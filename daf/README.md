# DAF (Dis Is Not An Agent Framework) Fork

**Location**: `daf/` - Complete DAF fork source code, tools, setup, logging, and infrastructure

The **DAF (Dis Is Not An Agent Framework) Fork** is a comprehensive infrastructure layer built on top of the Metta multi-agent reinforcement learning framework. DAF is a recursive acronym emphasizing that while it provides agent framework capabilities, it is fundamentally an integration layer and tooling ecosystem that orchestrates Metta's native multi-agent RL capabilities using only real Metta methods.

## 🎯 **Real Metta Methods Only**

**DAF Philosophy**: No mocks, no simulations, no extra adjectives - only real Metta methods.

- ✅ **Direct Integration**: All DAF components use actual Metta classes and methods
- ✅ **Thin Orchestration**: DAF provides coordination without replacing Metta functionality
- ✅ **Real Documentation**: Generated from actual Metta source code with complete signatures
- ✅ **Authentic Testing**: Tests verify real integration with actual Metta components
- ❌ **No Mocking**: No mock objects or simulated Metta behavior in production code
- ❌ **No Adjectives**: No "enhanced", "extended", or "wrapper" terminology

## 🎯 Streamlined DAF Interface

DAF now provides a **single, unified entry point** for all operations via thin scripts that delegate to `src/daf/operations`.

```bash
# Main entry point - choose your operation (all executed via uv)
uv run python daf_main.py setup     # Complete environment setup
uv run python daf_main.py validate  # Comprehensive validation
uv run python daf_main.py examples  # Run all examples with real Metta
uv run python daf_main.py test      # Run test suite
uv run python daf_main.py status    # Show DAF status and components
```

**OR use the CLI directly (also with uv):**
```bash
uv run python -m daf.cli setup
uv run python -m daf.cli validate
uv run python -m daf.cli examples
uv run python -m daf.cli test
uv run python -m daf.cli docs generate
```

## Documentation Structure

### **`@daf/` - Autogenerated Metta Documentation**
- **129 documentation files** automatically generated from Metta repository
- **1466 documented items** (200 classes + 721 functions + 545 methods)
- **Enhanced signatures** with complete type annotations
- **Real Metta method documentation** - see `@daf/methods/`

### **`daf/doc/` - DAF System Documentation**
- **Architecture Overview** (`ARCHITECTURE.md`) - How DAF integrates with Metta
- **Functionality Guide** (`FUNCTIONALITY.md`) - Real Metta component usage
- **Testing Documentation** (`TESTING.md`) - Validation of real Metta functionality
- **Integration Guide** (`INTEGRATION.md`) - Component interaction patterns
- **Philosophy** (`PHILOSOPHY.md`) - "DAF Is Not An Agent Framework"
- **Documentation System** (`DOCUMENTATION_SYSTEM.md`) - How docs are generated
- **Real Metta Validation** (`REAL_METTA_VALIDATION.md`) - Comprehensive testing
- **User Guide** (`USER_GUIDE.md`) - Working with real Metta methods

### **`daf/examples/` - Working Examples**
Real Metta component usage demonstrations with actual training scenarios

### **`daf/tests/` - Test Suite**
Comprehensive validation of real Metta functionality (51 methods tested)

## 🚀 Metta Installation and Setup

DAF's core mission is to facilitate the installation, operation, and use of Metta:

### **Quick Installation**
```bash
cd /path/to/metta
python3 daf/setup_metta.py     # Install Metta within DAF
python3 daf/activate_daf.py    # Activate DAF/Metta environment
python3 daf/run_metta_examples.py  # Run all examples with real Metta
```

### **Installation Features**
- ✅ **Virtual Environment**: Isolated Python environment for Metta
- ✅ **Dependency Management**: Automatic installation of all Metta dependencies
- ✅ **Environment Configuration**: Proper Python paths and environment variables
- ✅ **Import Validation**: Testing that all Metta components work correctly
- ✅ **Example Integration**: All examples use real Metta components (zero mocking)

## 📁 Streamlined DAF Scripts

### **Core Scripts (Thin Orchestrators)**
- **`daf/daf_main.py`** - Delegates to `src/daf/operations` for setup, validation, examples, tests
- All legacy runners (`setup_daf.py`, `run_metta_examples.py`, etc.) have been retired; their functionality lives in `src/daf/operations`

## 📁 DAF Fork Structure

```
daf/
├── src/daf/                    # Core DAF infrastructure
│   ├── cli/                    # Command-line interface
│   ├── config/                 # Configuration management
│   ├── core/                   # Core components and wrappers
│   ├── experiments/            # Experiment management
│   ├── logging/                # Comprehensive logging system
│   ├── setup/                  # Environment setup and initialization
│   ├── tools/                  # Documentation and utility tools
│   ├── validation/             # Validation and testing utilities
│   └── wrappers/               # Metta component wrappers
├── tests/                      # Comprehensive test suite
├── examples/                   # Working examples with real Metta components
├── scripts/                    # DAF demo and validation scripts (4 scripts)
│   ├── metta_example_runner.py   # Comprehensive real Metta demo
│   ├── simple_daf_demo.py        # Quick overview demonstration
│   ├── final_validation.py       # Complete system validation
│   ├── daf_end_to_end_demo.py    # Full end-to-end demonstration
│   └── README.md                 # Scripts documentation and usage
├── configs/                    # Configuration files
├── outputs/                    # Test and experiment outputs
├── logs/                       # Log files and archives
├── doc/                        # DAF-specific documentation
└── daf.log                     # Main DAF log file

@daf/                           # Autogenerated Metta documentation
├── methods/                    # Individual method documentation (129 files)
└── structure/                  # Repository structure metadata (4 files)
```

## 🚀 Quick Start

### 🎯 **Streamlined Approach (Recommended)**
```bash
cd /Users/4d/Documents/GitHub/metta

# 1. Complete setup (installs Metta, generates docs, validates everything)
python daf/daf_main.py setup

# 2. Validate all functionality
python daf/daf_main.py validate

# 3. Run examples with real Metta components
python daf/daf_main.py examples

# 4. Run comprehensive test suite
python daf/daf_main.py test

# 5. Show status and available components
python daf/daf_main.py status
```

### 🔧 **Direct CLI Access**
```bash
# Setup environment
python -m daf.cli setup

# Validate functionality
python -m daf.cli validate

# Run examples
python -m daf.cli examples

# Run tests
python -m daf.cli test

# Generate documentation
python -m daf.cli docs generate

# Interactive CLI
python -m daf.cli
```

### 3. Use DAF Programmatically
```python
from daf import create_daf_instance, generate_docs, run_tests

# Create DAF instance
daf = create_daf_instance()

# Generate documentation
success = generate_docs()

# Run test suite
results = run_tests()

# Check status
status = daf.get_status()
```

### 4. Run DAF Demonstrations
```bash
# Run comprehensive Metta examples with real components
python3 daf/run_metta_examples.py

# Run individual demo scripts
python3 daf/scripts/metta_example_runner.py     # Comprehensive demo
python3 daf/scripts/simple_daf_demo.py          # Quick overview
python3 daf/scripts/final_validation.py         # Complete validation
python3 daf/scripts/daf_end_to_end_demo.py      # End-to-end demo
```

## 🎯 DAF Infrastructure Components

### Core Infrastructure
- **Setup System** (`src/daf/setup/`): Environment initialization and configuration
- **Configuration Manager** (`src/daf/config/`): DAF configuration management
- **Logging System** (`src/daf/logging/`): Comprehensive logging with rotation
- **CLI Interface** (`src/daf/cli/`): Command-line interface for all operations

### Documentation Tools
- **Documentation Generator** (`src/daf/tools/`): AST-based signature extraction
- **Coverage Verification** (`src/daf/tools/`): Validates documentation completeness
- **Metta Synchronization** (`src/daf/tools/`): Syncs with main repository

### Component Wrappers
- **AdaptiveWrapper**: Enhanced adaptive learning components
- **RLWrapper**: RL training and evaluation wrappers
- **CurriculumWrapper**: Curriculum learning enhancements

### Testing Infrastructure
- **Comprehensive Test Suite**: 6 test files covering all components
- **Real Metta Usage**: Tests use actual Metta components (no mocking)
- **Integration Testing**: Component interaction validation

## 📊 DAF Capabilities

### Documentation Management
```bash
# Generate comprehensive documentation with signatures
python daf/src/daf/tools/comprehensive_generator.py

# Verify documentation coverage
python daf/src/daf/tools/verify_coverage.py

# Synchronize with Metta repository
python daf/src/daf/tools/sync_with_metta.py
```

### Logging and Monitoring
```python
from daf.logging import setup_daf_logging, LogManager, DAFLogger

# Setup comprehensive logging
setup_daf_logging(log_level="INFO", log_file="daf/logs/daf.log")

# Use enhanced logger
logger = DAFLogger("my_component", {"experiment": "test"})
logger.info("Operation completed", {"duration": 1.5})
```

### Configuration Management
```python
from daf.config import DAFConfigManager

# Load and manage configuration
config_manager = DAFConfigManager("daf/configs/daf_config.yaml")
config = config_manager.get_config()
config_manager.update_config(log_level="DEBUG")
```

### Component Wrappers
```python
from daf.wrappers import AdaptiveWrapper, RLWrapper, CurriculumWrapper

# Initialize wrappers
adaptive = AdaptiveWrapper()
adaptive.initialize()

rl = RLWrapper()
rl.initialize()

curriculum = CurriculumWrapper()
curriculum.initialize()

# Use wrapped components
results = adaptive.run_experiment({"epochs": 100})
training_results = rl.train_model({"learning_rate": 0.001})
tasks = curriculum.generate_curriculum(10)
```

## 🔧 Advanced Usage

### Custom Configuration
```python
from daf.config import DAFConfig

# Create custom configuration
config = DAFConfig(
    adaptive_enabled=True,
    rl_enabled=True,
    generate_docs_on_startup=True,
    log_level="DEBUG"
)

# Initialize with custom config
daf = create_daf_instance(config)
```

### Logging Management
```python
from daf.logging import LogManager

# Setup log management
log_manager = LogManager("daf/logs")

# Rotate logs
log_manager.rotate_logs()

# Get log statistics
stats = log_manager.get_log_stats()

# Archive logs
archive_path = log_manager.archive_logs("daf/logs/archives")
```

### Test Infrastructure
```bash
# Run comprehensive test suite
python daf/run_daf_tests.py

# Run individual test components
python -m unittest daf/tests/unit/test_real_metta_usage.py -v
python -m unittest daf/tests/integration/test_metta_integration.py -v
```

## 📈 DAF Infrastructure Benefits

### Complete Metta Integration
- ✅ **51 real Metta methods** used and tested
- ✅ **1466 documented items** (200 classes + 721 functions + 545 methods)
- ✅ **39.5% file coverage** (51/129 files) and **3.5% item utilization** (51/1466)
- ✅ **Real functionality** validated (no mocking)

### Comprehensive Logging
- ✅ **Structured logging** with context and metadata
- ✅ **Log rotation** and archival
- ✅ **Component-specific** loggers
- ✅ **Performance tracking** and statistics

### Robust Testing
- ✅ **6 comprehensive test files** covering all components
- ✅ **Real Metta usage** validation
- ✅ **Integration testing** for component interaction
- ✅ **Performance benchmarking** and monitoring

### Developer Experience
- ✅ **Type annotations** and IDE support
- ✅ **Comprehensive documentation** generation
- ✅ **CLI interface** for all operations
- ✅ **Configuration management** system

## 🚀 Production Features

### Environment Management
- ✅ **Automatic setup** and initialization
- ✅ **Configuration validation** and verification
- ✅ **Dependency management** and checking
- ✅ **Error handling** and recovery

### Monitoring and Observability
- ✅ **Comprehensive logging** with structured output
- ✅ **Performance metrics** and tracking
- ✅ **Component health** monitoring
- ✅ **Log archival** and rotation

### Documentation System
- ✅ **AST-based signature** extraction
- ✅ **Complete type annotations** generation
- ✅ **Coverage verification** system
- ✅ **Repository synchronization**

## 📚 Documentation Access

### 🎯 **Streamlined Access**
```bash
# Main documentation
cat @daf/README.md

# Browse all Metta methods (129 files)
ls @daf/methods/

# Find specific functionality
cat @daf/methods/adaptive_adaptive_controller.md
cat @daf/methods/rl_trainer.md
cat @daf/methods/cogworks_curriculum_curriculum.md

# Repository structure and metadata
cat @daf/structure/METTA_REPOSITORY_STRUCTURE.md
cat @daf/structure/method_distribution.json
cat @daf/structure/integration_patterns.md
```

### 📁 **DAF System Documentation**
- **`daf/doc/`** - Complete DAF system documentation
- **`daf/examples/`** - Real Metta usage examples
- **`daf/logs/`** - Execution logs and reports
- **`daf/outputs/`** - Test outputs and results

### 🔍 **Search and Discovery**
```bash
# Search for specific patterns
grep "def train" @daf/methods/rl_*.md
grep "AdaptiveController" @daf/methods/adaptive_*.md
grep "Config" @daf/methods/setup_*.md

# Find examples by functionality
grep -l "curriculum" daf/examples/*.py
grep -l "training" daf/examples/*.py
```

## 🎯 Integration with Metta Repository

The DAF fork provides complete integration with the main Metta repository:

### Real Metta Components Used (51 total)
- ✅ **AdaptiveController** - Real adaptive learning (metta.adaptive.adaptive_controller)
- ✅ **Curriculum** - Real curriculum learning (metta.cogworks.curriculum.curriculum)
- ✅ **RL Trainer** - Real RL training (metta.rl.trainer)
- ✅ **WandbStore** - Real experiment tracking (metta.adaptive.stores.wandb)
- ✅ **TaskGenerator** - Real task generation (metta.cogworks.curriculum.task_generator)
- ✅ **CheckpointManager** - Real model persistence (metta.rl.checkpoint_manager)

### Enhanced Documentation
- ✅ **Complete function signatures** with parameter types
- ✅ **Return type annotations** (e.g., `-> List[str]`)
- ✅ **Generic type support** (e.g., `List[str]`, `Optional[Dict]`)
- ✅ **Source location information** with line numbers

## 📈 Performance and Scalability

### Logging Performance
- ✅ **Asynchronous logging** for high throughput
- ✅ **Log rotation** prevents file system issues
- ✅ **Structured output** for efficient parsing
- ✅ **Component isolation** for debugging

### Testing Performance
- ✅ **Parallel test execution** capabilities
- ✅ **Comprehensive coverage** validation
- ✅ **Real component testing** (no mock overhead)
- ✅ **Integration testing** for system validation

### Documentation Generation
- ✅ **AST parsing** for accurate signatures
- ✅ **Incremental updates** for efficiency
- ✅ **Coverage verification** system
- ✅ **Type annotation** extraction

## 🔧 Maintenance and Operations

### Log Management
```bash
# View log statistics
python -m daf.cli logs show

# Rotate log files
python -m daf.cli logs rotate

# Archive old logs
python -m daf.cli logs archive

# Cleanup logs older than 30 days
python -m daf.cli logs cleanup --days 30
```

### Configuration Management
```bash
# Show current configuration
python -m daf.cli config show

# Edit configuration
python -m daf.cli config edit

# Save configuration
python -m daf.cli config save --file daf/configs/custom.yaml
```

### Documentation Updates
```bash
# Regenerate all documentation
python -m daf.cli docs generate --enhanced

# Verify coverage
python -m daf.cli docs verify

# Sync with Metta repository
python -m daf.cli docs sync
```

## 🎉 DAF Fork - Streamlined Complete Solution

The DAF fork provides a **streamlined, complete infrastructure solution** for working with Metta methods:

### ✅ **Core Capabilities**
1. **🎯 Single Entry Point** - `daf_main.py` orchestrates all operations
2. **📋 Consolidated Scripts** - Setup, validation, examples, tests in unified scripts
3. **🔧 CLI Integration** - Direct access via `python -m daf.cli`
4. **📚 Enhanced Documentation** - 129 files with 1466 documented items
5. **🧪 Real Metta Integration** - 51 methods used and tested across all components
6. **🚀 Production Ready** - Complete setup, validation, and testing

### 📊 **Streamlined Structure**
- **`daf_main.py`** - Main entry point for all operations
- **`setup_daf.py`** - Consolidated environment setup
- **`validate_daf.py`** - Comprehensive validation
- **`run_examples_daf.py`** - Examples runner with real Metta
- **`run_daf_tests.py`** - Test suite execution
- **`@daf/`** - Generated documentation (129 files)
- **`daf/doc/`** - System documentation
- **`daf/examples/`** - Real Metta usage examples

### 🎯 **Key Benefits**
- **Simplicity**: Single entry point for all operations
- **Reliability**: Consolidated scripts eliminate redundancy
- **Completeness**: Full coverage of setup, validation, examples, tests
- **Documentation**: 129 files covering 1466 Metta methods
- **Real Integration**: Uses actual Metta components (no mocking)

**The streamlined DAF fork provides a complete, production-ready solution for Metta integration with comprehensive infrastructure and tooling. It uses 51 real Metta methods across all components with unified access through a single entry point.**
